var C=r=>{throw TypeError(r)};var D=(r,t,o)=>t.has(r)||C("Cannot "+o);var l=(r,t,o)=>(D(r,t,"read from private field"),o?o.call(r):t.get(r)),g=(r,t,o)=>t.has(r)?C("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,o),N=(r,t,o,s)=>(D(r,t,"write to private field"),s?s.call(r,o):t.set(r,o),o),V=(r,t,o)=>(D(r,t,"access private method"),o);import{A as h}from"./Arr-MwYQQ3qa.js";import{d as O}from"./dayjs.min-2rai63wT.js";var w,A,b,$,M,x,S,q;const e=class e{static setLocale(){N(e,$,l(e,$).replace("_","-"));const t=h.get(window,"fluentCartAdminApp.shop",{});N(e,x,t.decimal_separator||null),N(e,M,l(this,$))}static formatNumber(t,o=!0,s=!1,a=null){var c;if(!t&&s)return"";const n=h.get(l(e,A),a||"",l(e,w));if(t?t=(t/100).toFixed(2):t="0.00",!o)return t;let f=new Intl.NumberFormat(l(e,M),{minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return f=V(c=e,S,q).call(c,f),o?l(e,b)==="before"?`${n}${f}`:`${f}${n}`:f}static formatScaled(t,o=!0,s=!1,a=""){if(!t&&s)return"";const n=h.get(l(e,A),a||"",l(e,w));let f,c="";if(Math.abs(t)>=1e11)t=t/1e9,c="B";else if(Math.abs(t)>=1e8)t=t/1e6,c="M";else if(Math.abs(t)>=1e5)t=t/1e3,c="K";else return e.formatNumber(t,o,s,n);if(f=e.formatNumber(t,!1,s,n),!o)return f;const p=`${f}${c}`;return l(e,b)==="before"?`${n}${p}`:`${p}${n}`}static scaled(t,o=!0,s=!1,a=""){return e.formatScaled(t*100,o,s,a)}static formatBulk(t,o=!1,s=l(e,w),a=!1){return t.map(n=>o?e.formatScaled(n,s,a):e.formatNumber(n,s,a))}static get currencySign(){return l(e,w)}static get currencyPosition(){return l(e,b)}static get locale(){return l(e,M)}static generateVolumeSummary(t,o=!1){if(o){const s=O(),a=s.format("YYYY-MM"),n=s.subtract(1,"month").format("YYYY-MM"),f=s.format("MMMM"),c=s.subtract(1,"month").format("MMMM"),p=t[a]||{current:0,yoy_growth:0},i=t[n]||{current:0,yoy_growth:0};i.yoy_growth=Number(i.yoy_growth||0),p.yoy_growth=Number(p.yoy_growth||0);const u=e.formatScaled(i.current),v=e.formatScaled(p.current),I=i.yoy_growth>=0?d("Increase of %s year-over-year",i.yoy_growth.toFixed(1)+"%"):d("Decrease of %s year-over-year",Math.abs(i.yoy_growth).toFixed(1)+"%");return d("%s gross volume was %s, a %s. Gross volume for the month of %s so far is %s. Here's the trend over the previous 12 months.",`<span class="font-bold">${c}</span>`,`<span class="font-bold fc-custom-tooltip">${u}<span class="fc-custom-tooltip-content">${e.formatNumber(i.current)}</span></span>`,`<span class="font-bold ${i.yoy_growth>=0?"text-green-500":"text-red-500"}">${I} </span>`,f,`<span class="font-bold fc-custom-tooltip">${v}<span class="fc-custom-tooltip-content">${e.formatNumber(p.current)}</span></span>`)}else{const s=O(),a=s.year(),n=Math.floor((s.month()+3)/3);s.format("MMMM");const f=n*3-1;let c=O().year(a).month(f).endOf("month");n===1&&(c=c.month(2).endOf("month")),n===2&&(c=c.month(5).endOf("month")),n===3&&(c=c.month(8).endOf("month")),n===4&&(c=c.month(11).endOf("month"));const p=c.diff(s,"day"),i=Object.keys(t)[0],u=Object.values(t)[0],v=e.formatScaled(u.current);u.yy_growth=Number(u.yy_growth||0);const I=u.yy_growth>=0?d("Increase of %s year-over-year",u.yy_growth.toFixed(1)+"%"):d("Decrease of %s year-over-year",Math.abs(u.yy_growth).toFixed(1)+"%");let P=`Q${n}-${a}`;const m=h.get(t,P,{current:0,prev_year:0,yy_growth:0});m.yy_growth=Number(m.yy_growth||0);const j=e.formatScaled(m.current);let y=0;m.current===0&&u.current===0?y=0:m.current===0?y=-100:(y=(m.current-u.current)/m.current*100,isNaN(y)&&(y=0));const F=y>=0?d("a increase of %s compared to %s",y.toFixed(1)+"%",i):d("a decrease of %s compared to %s",Math.abs(y).toFixed(1)+"%",i);return d("%s gross volume was %s, a %s. With %s days left in %s, Gross volume is %s for the quarter, %s and %s year-over-year",`<span class="font-bold">${i}</span>`,`<span class="font-bold fc-custom-tooltip">${v}<span class="fc-custom-tooltip-content">${e.formatNumber(u.current)}</span></span>`,`<span class="font-bold ${u.yy_growth>=0?"text-green-500":"text-red-500"}">${I} </span>`,p,`Q${n}`,`<span class="font-bold fc-custom-tooltip">${j}<span class="fc-custom-tooltip-content">${e.formatNumber(m.current)}</span></span>`,`<span class="font-bold ${y>=0?"text-green-500":"text-red-500"}">${F} </span>`,`<span class="font-bold ${m.yy_growth>=0?"text-green-500":"text-red-500"}">${m.yy_growth}% </span>`)}}};w=new WeakMap,A=new WeakMap,b=new WeakMap,$=new WeakMap,M=new WeakMap,x=new WeakMap,S=new WeakSet,q=function(t){if(!l(e,x))return t;const o=l(e,x)==="comma"?",":".",s=t.lastIndexOf("."),a=t.lastIndexOf(",");let n=-1;return s>a?n=s:a>s&&(n=a),n===-1?t:t.substring(0,n)+o+t.substring(n+1)},g(e,S),g(e,w,h.get(window,"fluentCartAdminApp.shop.currency_sign","$")),g(e,A,h.get(window,"fluentCartAdminApp.currency_signs",{})),g(e,b,h.get(window,"fluentCartAdminApp.shop.currency_position","before")),g(e,$,h.get(window,"fluentCartAdminApp.wp_locale","en-US")),g(e,M,null),g(e,x);let Y=e;Y.setLocale();function d(r){var a,n,f,c;((n=(a=window.fluentCartAdminApp)==null?void 0:a.app_config)==null?void 0:n.env)==="dev"&&((f=window.fluentCartAdminApp)!=null&&f.trans[r]),r=((c=window.fluentCartAdminApp)==null?void 0:c.trans[r])||r;const t=Array.prototype.slice.call(arguments,1);if(t.length===0)return r;const o=/%(\d*\$?)s|%d/g;let s=0;return r=r.replace(o,(p,i)=>{if(i){const u=parseInt(i,10)-1;return u<t.length?t[u]:p}else return s<t.length?t[s++]:p}),r}function B(r,t,o,s=null){let a=parseInt(o.toString().replace(/,/g,""),10);return a>1?d(t,o):d(a===0?s??r:r,o)}function G(r){if(r instanceof String&&!r.trim()||isNaN(r))return r;r=r.toString();const t=h.get(window,"fluentCartAdminApp.wp_locale","en-US").replace("_","-");return new Intl.NumberFormat(t).format(r)}export{Y as C,G as a,B as p,d as t};
