import{S as B}from"./Str-Dyh8Kh0u.js";import{A}from"./Arr-MwYQQ3qa.js";import{b as v,w as f,n as x,G as N,a as p,o as c,r as b,c as u,e as T,d as P,f as C,t as h,F as y,h as M,g as k,T as D}from"./vue.esm-bundler-Dk_uEpzT.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as I}from"./dayjs.min-2rai63wT.js";import{u as O,t as j}from"./timezone-C2U15obx.js";import{_ as E}from"./DynamicIcon-y7KGaMbT.js";import{t as i}from"./Translator-Cu_KObU0.js";const z=t=>"fcart-"+B.snake(A.get(window,"fluentCartAdminApp.app_config.version","1.0.0"))+"_"+t;class ce{static get(a,e=""){let s=localStorage.getItem(z(a));if(s&&["{","["].indexOf(s[0])!==-1)s=JSON.parse(s);else{if(s==="true")return!0;if(s==="false")return!1}return s||e}static set(a,e){typeof e=="object"&&(e=JSON.stringify(e)),localStorage.setItem(z(a),e)}static remove(a){localStorage.removeItem(z(a))}static clear(){localStorage.clear()}static serverMaxUploadSize(){return A.get(window,"fluentCartAdminApp.max_upload_size")||""}static readableFileSizeFromBytes(a){if(!a)return"";const e=Math.floor(Math.log(a)/Math.log(1024)),s=["B","KB","MB","GB","TB"];return(a/Math.pow(1024,e)).toFixed(2)+" "+s[e]}}const L={name:"IconButton",props:{title:{type:String},href:{type:String},target:{type:String},border:{type:String},router_link:{type:Boolean},to:{type:Object},size:{type:String},tag:{type:String},circle:{type:Boolean},bg:{type:String},hover:{type:String}},computed:{isBorder(){return this.border?"border-"+this.border:""},isSize(){return this.size?this.size:""},isTag(){return this.tag?this.tag:"div"},isCircle(){return this.circle?"is-circle":""},isBg(){return this.bg?this.bg:""},isHover(){return this.hover?"hover-"+this.hover:""}}};function F(t,a,e,s,o,n){const l=p("router-link");return e.to?(c(),v(l,{key:0,to:e.to,class:x(["icon-button",[n.isBorder,n.isSize,n.isCircle,n.isBg,n.isHover]]),title:e.title,target:e.target},{default:f(()=>[b(t.$slots,"default")]),_:3},8,["to","class","title","target"])):(c(),v(N(n.isTag),{key:1,class:x(["icon-button",[n.isBorder,n.isSize,n.isCircle,n.isBg,n.isHover]]),href:e.href,title:e.title,target:e.target},{default:f(()=>[b(t.$slots,"default")]),_:3},8,["class","href","title","target"]))}const le=w(L,[["render",F]]);I.extend(O);I.extend(j);function S(t){var o;t=((o=window.fluentcart_customer_profile_vars)==null?void 0:o.trans[t])||t;const a=Array.prototype.slice.call(arguments,1);if(a.length===0)return t;const e=/%(\d*\$?)s|%d/g;let s=0;return t=t.replace(e,(n,l)=>{if(l){const d=parseInt(l,10)-1;return d<a.length?a[d]:n}else return s<a.length?a[s++]:n}),t}function ue(t,a,e,s=null){let o=parseInt(e.toString().replace(/,/g,""),10);return o>1?S(a,e):S(o===0?s??t:t,e)}function H(t){if(t instanceof String&&!t.trim()||isNaN(t))return t;t=t.toString();const a=(window.fluentcart_customer_profile_vars.wp_locale||"en-US").replace("_","-");return new Intl.NumberFormat(a).format(t)}function de(t,a="MMM DD"){const e=window.fluentcart_customer_profile_vars.datei18,s=I(t).locale({name:"fluent_date_time",weekdays:Object.values(e.weekdays),weekdaysShort:Object.values(e.weekdaysShort),months:Object.values(e.months),monthsShort:Object.values(e.monthsShort),meridiem:(o,n,l)=>{const d=e.am||"AM",g=e.pm||"PM",r=o<12?d:g;return l?r.toLowerCase():r}}).format(a);return V(s)}const V=function(t,a){return t&&(window.fluentcart_customer_profile_vars.datei18,t=t.toString(),t.split("").map(s=>s!==" "?H(s):s).join(""))},q={props:{table:{type:Object,required:!1},pagerSizes:{type:Boolean,default:!0},pagination:{required:!0,type:Object},extra_sizes:{required:!1,type:Array,default(){return[]}},hide_on_single:{required:!1,type:Boolean,default(){return!0}},background:{type:Boolean,default:!0},layout:{type:String,default:"prev, pager, next"},pager_count:{type:Number,default:5}},data(){return{currentPage:1}},computed:{page_sizes(){const t=[];this.pagination.per_page<10&&t.push(this.pagination.per_page);const a=[10,20,50,80,100,120,150];return[...t,...a,...this.extra_sizes]},totalPage(){const t=this.pagination.per_page,a=this.pagination.total;return isNaN(a)||a<=0?0:Math.ceil(a/t)}},methods:{translate:S,changePage(t){var e;let a=this.getCurrentPageCount(t,this.pagination.per_page);this.currentPage=t,this.pagination.current_page=t,this.$emit("currentPageChanged",{page:t,currentPageCount:a}),this.$emit("fetch"),(e=this.table)==null||e.handlePageChange()},changeSize(t){var a;this.currentPage=1,this.pagination.current_page=1,this.$emit("onPerPageChanged",t),this.$emit("fetch"),(a=this.table)==null||a.handlePerPageChange()},getCurrentPageCount(t,a){return(t<this.pagination.last_page?a:this.pagination.total%a)||a}}},U={class:"pagination-wrap"},G={key:0,class:"pager-wrap"},J={class:"text"},K={class:"el-pagination"},R={class:"text"};function W(t,a,e,s,o,n){const l=p("el-option"),d=p("el-select"),g=p("el-pagination");return c(),u("div",U,[e.pagerSizes?(c(),u("div",G,[C("span",J,h(n.translate("Page %s of %s",o.currentPage,n.totalPage)),1),C("div",K,[P(d,{onChange:n.changeSize,modelValue:e.pagination.per_page,"onUpdate:modelValue":a[0]||(a[0]=r=>e.pagination.per_page=r),placeholder:n.translate("Select")},{default:f(()=>[(c(!0),u(y,null,M(n.page_sizes,r=>(c(),v(l,{key:r,label:n.translate("%s / page",r),value:r},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue","placeholder"])]),C("span",R,h(n.translate("Total %s",e.pagination.total)),1)])):T("",!0),P(g,{ref:"paginationRef","hide-on-single-page":e.hide_on_single,background:e.background,"current-page":e.pagination.current_page,layout:e.layout,onCurrentChange:n.changePage,"page-sizes":n.page_sizes,total:e.pagination.total,"page-count":e.pagination.last_page,"pager-count":e.pager_count,"page-size":e.pagination.per_page,"onUpdate:pageSize":a[1]||(a[1]=r=>e.pagination.per_page=r)},{default:f(r=>[k(h(r)+" -- ",1)]),_:1},8,["hide-on-single-page","background","current-page","layout","onCurrentChange","page-sizes","total","page-count","pager-count","page-size"])])}const ge=w(q,[["render",W]]),Q={key:0},X={__name:"TransitionAccordion",props:{visible:{type:Boolean,default:!1},duration:{type:Number,default:300}},setup(t){const e=t.duration,s=r=>{r.style.height="0",r.style.opacity="0",r.style.overflow="hidden"},o=(r,m)=>{const _=r.scrollHeight+"px";r.style.transition=`height ${e}ms ease, opacity ${e}ms ease`,requestAnimationFrame(()=>{r.style.height=_,r.style.opacity="1"}),setTimeout(()=>m(),e)},n=r=>{r.style.height="auto",r.style.overflow=""},l=r=>{r.style.height=r.scrollHeight+"px",r.style.opacity="1",r.style.overflow="hidden"},d=(r,m)=>{r.offsetHeight,r.style.transition=`height ${e}ms ease, opacity ${e}ms ease`,r.style.height="0",r.style.opacity="0";const _=()=>{r.style.transition="",r.style.height="",r.style.opacity="",r.style.overflow="",r.removeEventListener("transitionend",_),m()};r.addEventListener("transitionend",_)},g=r=>{};return(r,m)=>(c(),v(D,{onBeforeEnter:s,onEnter:o,onAfterEnter:n,onBeforeLeave:l,onLeave:d,onAfterLeave:g,mode:"in-out"},{default:f(()=>[t.visible?(c(),u("div",Q,[b(r.$slots,"default",{},void 0,!0)])):T("",!0)]),_:3}))}},pe=w(X,[["__scopeId","data-v-e0e58ffb"]]),Y={name:"Badge",components:{DynamicIcon:E},props:{status:String,text:{type:String,default:null,required:!1},hideIcon:{type:Boolean,default:!1},size:String,highContrast:{type:Boolean,default:!1},type:String,icon:String},computed:{Str(){return B},computedStatus(){return this.status||this.type},badgeType(){switch(this.computedStatus){case"completed":case"paid":case"active":case"publish":case"shipped":case"success":case"licensed":case"succeeded":return"success";case"failed":case"error":case"canceled":case"expired":return"danger";case"partially_paid":case"intended":return"blue";case"scheduled":case"on-hold":case"pending":case"unpaid":case"warning":case"processing":case"future":return"warning";case"inactive":return"warning";case"dispute":return"warning";default:return"info"}},badgeSize(){return this.size?this.size:""},HighContrast(){return this.highContrast?"is-high-contrast":""}},methods:{getStatusText(){switch(this.computedStatus){case"completed":return i("Completed");case"paid":return i("Paid");case"active":return i("Active");case"publish":return i("Published");case"draft":return i("Draft");case"shipped":return i("Shipped");case"success":return i("Success");case"licensed":return i("Licensed");case"succeeded":return i("Succeeded");case"failed":return i("Failed");case"error":return i("Error");case"canceled":return i("Canceled");case"expired":return i("Expired");case"partially_paid":return i("Partially Paid");case"intended":return i("Intended");case"scheduled":return i("Scheduled");case"on-hold":return i("On Hold");case"pending":return i("Pending");case"unpaid":return i("Unpaid");case"warning":return i("Warning");case"processing":return i("Processing");case"future":return i("Future");case"inactive":return i("Inactive");case"dispute":return i("Dispute");default:return B.headline(this.computedStatus)}}}},Z={key:0};function $(t,a,e,s,o,n){const l=p("DynamicIcon");return c(),u("span",{class:x(`badge ${n.badgeType} ${n.badgeSize} ${n.HighContrast}`)},[e.status?(c(),u(y,{key:0},[e.icon?(c(),u("span",Z,[P(l,{name:e.icon},null,8,["name"])])):T("",!0),e.text?(c(),u(y,{key:1},[k(h(e.text),1)],64)):(c(),u(y,{key:2},[k(h(n.getStatusText()),1)],64))],64)):b(t.$slots,"default",{key:1})],2)}const he=w(Y,[["render",$]]);export{he as B,le as I,ge as P,ce as S,pe as T,H as a,de as d,ue as p,S as t};
