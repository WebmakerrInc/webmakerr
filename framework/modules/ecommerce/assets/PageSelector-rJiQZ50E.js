import{C as B,D as F,i as s,j as M,a as k,c as i,o as a,f as o,d,w as N,F as q,h as A,b as L,u as p,e as c,t as y,g as P,n as j}from"./vue.esm-bundler-Dk_uEpzT.js";import{t as m}from"./Translator-Cu_KObU0.js";import{_ as O}from"./DynamicIcon-y7KGaMbT.js";import{A as w}from"./Arr-MwYQQ3qa.js";import T from"./CreatePageButton-M2Lb-Fh8.js";import"./dayjs.min-2rai63wT.js";import"./Notify-2R1_bNii.js";import"./Str-Dyh8Kh0u.js";import"./index-CCpw3JZM.js";import"./Rest-U7WPPDzn.js";import"./Badge-Bo-XvQ4z.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./timezone-C2U15obx.js";const U={class:"fc-form-group"},D={class:"input-prepend"},E={class:"input-info-note flex gap-2 mt-2 flex-wrap items-center"},H=["innerHTML"],$={class:"flex gap-2"},z=["href"],K={class:"flex gap-1 items-end m-0 underline"},R=["href"],G={class:"flex gap-1 items-end m-0 underline"},I={class:"input-append"},ie={__name:"PageSelector",props:B({name:{type:String,required:!0},field:{type:Object},fieldKey:{type:String},value:{required:!0},variant:{type:String},nesting:{type:Boolean,default:!1},statePath:{type:String},form:{type:Object,required:!0},callback:{type:Function,required:!0},label:{type:String},attribute:{required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const t=F(r,"modelValue",{get:l=>l?typeof l=="string"?Number(l):l:""}),f=r,v=s(f.field.options);s(t.value);const u=s({}),g=s(!1),_=()=>t.value?w.get(u.value,t.value.toString(),""):"",b=l=>{g.value=l},S=w.get(window,"fluentCartAdminApp.admin_url","").toString().replace("admin.php?page=fluent-cart#/","post.php?action=edit&post="),h=()=>t.value?S+t.value:"";return M(()=>{u.value[t.value.toString()]=f.field.preview_link}),(l,n)=>{const x=k("el-option"),C=k("el-select");return a(),i("div",U,[o("div",{class:j(["fc-input-group w-full",{focused:g.value}])},[o("div",D,[d(C,{filterable:"",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),onFocus:n[1]||(n[1]=e=>b(!0)),onBlur:n[2]||(n[2]=e=>b(!1)),placeholder:p(m)("Select"),clearable:"",onChange:n[3]||(n[3]=e=>{e||(t.value="")})},{default:N(()=>[(a(!0),i(q,null,A(v.value,(e,V)=>(a(),L(x,{key:V,label:e.label,value:Number(e.value)},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),o("div",E,[r.field.note?(a(),i("div",{key:0,class:"form-note mr-1 !mt-0",innerHTML:r.field.note},null,8,H)):c("",!0),o("div",$,[h()?(a(),i("a",{key:0,class:"preview-link !outline-none !shadow-none",href:h(),target:"_blank"},[o("p",K,y(p(m)("Edit")),1)],8,z)):c("",!0),_()?(a(),i("a",{key:1,class:"preview-link !outline-none !shadow-none",href:_(),target:"_blank"},[o("p",G,[P(y(p(m)("Preview"))+" ",1),d(O,{class:"w-3 h-3 mb-1",name:"Redirect"})])],8,R)):c("",!0)])])]),o("div",I,[d(T,{title:r.field.page_title,onOnPageCreated:n[4]||(n[4]=e=>{v.value.push({label:e.label,value:e.value}),u.value[e.value.toString()]=e.page_link,t.value=e.value}),content:r.field.page_key},null,8,["title","content"])])],2)])}}};export{ie as default};
